<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Scrapitor{% endblock %}</title>
    <meta name="theme-color" content="#0b0f14" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/app.css') }}" />
    <link rel="manifest" href="{{ url_for('static', filename='assets/site.webmanifest') }}" />
    <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='assets/apple-touch-icon.png') }}" />
    <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='assets/favicon-32x32.png') }}" />
    <link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='assets/favicon-16x16.png') }}" />
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='assets/favicon.ico') }}" />
    <link rel="icon" type="image/png" sizes="192x192" href="{{ url_for('static', filename='assets/android-chrome-192x192.png') }}" />
    <link rel="icon" type="image/png" sizes="512x512" href="{{ url_for('static', filename='assets/android-chrome-512x512.png') }}" />
    <meta name="application-name" content="Scrapitor" />
    <meta name="apple-mobile-web-app-title" content="Scrapitor" />
    <meta name="msapplication-TileColor" content="#0b0f14" />
    {% block head %}{% endblock %}
  </head>
  <body>
    <div class="noise" aria-hidden="true"></div>
    <div class="app-shell">
      <aside class="sidebar backdrop" aria-label="Sidebar">
        <div class="brand" aria-label="Scrapitor - Local OpenRouter Gateway">
          <div class="logo-icon shine" aria-hidden="true">
            <img class="logo-img" src="{{ url_for('static', filename='assets/logo.png') }}" alt="Scrapitor logo" />
          </div>
          <div class="brand-meta">
            <div class="brand-title">Scrapitor</div>
            <div class="brand-sub">Local OpenRouter Gateway</div>
          </div>
        </div>
        <nav class="nav" role="navigation" aria-label="Primary">
          <a class="nav-item active" href="#overview" aria-current="page">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" aria-hidden="true"><path d="M3 12l9-9 9 9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M9 21V9h6v12" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
            <span>Overview</span>
          </a>
          <a class="nav-item" href="#setup">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" aria-hidden="true"><path d="M12 15.5a3.5 3.5 0 100-7 3.5 3.5 0 000 7z" stroke-width="2"/><path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 01-2.83 2.83l-.06-.06A1.65 1.65 0 0015 19.4a1.65 1.65 0 00-1 0 1.65 1.65 0 00-1 .6 1.65 1.65 0 00-.33 1.82l.06.06a2 2 0 01-2.83 2.83l-.06-.06A1.65 1.65 0 004.6 21a1.65 1.65 0 00-1.82-.33l-.06.06a2 2 0 01-2.83-2.83l.06-.06A1.65 1.65 0 00.6 15a1.65 1.65 0 000-1 1.65 1.65 0 00-.6-1l-.06-.06A2 2 0 012.77 9.1l.06.06A1.65 1.65 0 004.6 9a1.65 1.65 0 001-1 1.65 1.65 0 000-1L5.54 6a2 2 0 012.83-2.83l.06.06A1.65 1.65 0 0010 4.6a1.65 1.65 0 001 0 1.65 1.65 0 001-.6l.06-.06A2 2 0 0114.9 2.77l-.06.06A1.65 1.65 0 0015 4.6c0 .34.13.67.36.94.23.27.53.46.86.56.33.1.68.11 1.02.02.34-.09.65-.26.9-.51l.06-.06A2 2 0 0121 6.77l-.06.06c-.25.25-.42.56-.51.9-.1.33-.08.69.02 1.02.1.33.3.63.56.86.27.23.6.36.94.36z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
            <span>Setup</span>
          </a>
          <a class="nav-item" href="#parser">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" aria-hidden="true"><path d="M4 6h16M4 12h16M4 18h7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
            <span>Parser</span>
          </a>
          <a class="nav-item" href="#activity">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" aria-hidden="true"><circle cx="12" cy="12" r="10" stroke-width="2"/><path d="M12 6v6l4 2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
            <span>Activity</span>
          </a>
        </nav>
        <div class="sidebar-footer">
          <a id="openCloudflareBtn" class="ghost-button" href="#" target="_blank" rel="noreferrer noopener" aria-label="Open Cloudflare URL">Open Cloudflare</a>
          <a id="openLocalBtn" class="ghost-button" href="#" target="_blank" rel="noreferrer noopener" aria-label="Open Local URL">Open Local</a>
          <div class="status-badge status-centered" style="margin-top:.75rem;" role="status" aria-live="polite">
            <div class="pulse-dot" aria-hidden="true"></div>
            <span>Server Active</span>
            <div class="pulse-dot" aria-hidden="true"></div>
          </div>
        </div>
      </aside>
      <main class="main" role="main">
        <header class="topbar backdrop">
          <h1 class="topbar-title">Dashboard</h1>
          <div class="topbar-actions action-bar">
            <button class="toolbar-btn" id="toggleSidebarBtn" title="Toggle sidebar" aria-label="Toggle sidebar">
              <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <rect x="3" y="4" width="6" height="16" rx="1"/>
                <rect x="11" y="4" width="10" height="16" rx="2"/>
              </svg>
              <span class="btn-label">Sidebar</span>
            </button>
            <button class="toolbar-btn" id="toggleDensityBtn" title="Toggle density" aria-label="Toggle compact density">
              <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <path d="M5 7h14" stroke-linecap="round"/><path d="M7 12h10" stroke-linecap="round"/><path d="M9 17h6" stroke-linecap="round"/>
              </svg>
              <span class="btn-label">Compact</span>
            </button>
            <button class="toolbar-btn toolbar-btn--accent" id="refreshBtn" title="Refresh data" aria-label="Refresh data">
              <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <path d="M21 12a9 9 0 10-3.2 6.8" stroke-linecap="round"/>
                <path d="M21 12v6h-6" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span class="btn-label">Refresh</span>
            </button>
          </div>
        </header>
        <div class="container">
          {% block content %}{% endblock %}
        </div>
      </main>
    </div>

    <div class="notification" id="notification" role="status" aria-live="polite" aria-atomic="true">
      <svg class="notification-icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
        <path d="M9 11l4 4 8-8"/>
      </svg>
      <span class="notification-message"></span>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
    {% block scripts %}{% endblock %}
  </body>
  </html>
